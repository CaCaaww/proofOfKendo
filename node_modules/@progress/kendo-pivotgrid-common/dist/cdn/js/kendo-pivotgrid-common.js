!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.KendoPivotgridCommon=r():e.KendoPivotgridCommon=r()}(window,(function(){return function(e){var r={};function t(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,t),o.l=!0,o.exports}return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:n})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(t.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)t.d(n,o,function(r){return e[r]}.bind(null,o));return n},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=10)}([function(e,r,t){"use strict";t.r(r),t.d(r,"__extends",(function(){return o})),t.d(r,"__assign",(function(){return a})),t.d(r,"__rest",(function(){return i})),t.d(r,"__decorate",(function(){return u})),t.d(r,"__param",(function(){return c})),t.d(r,"__metadata",(function(){return s})),t.d(r,"__awaiter",(function(){return l})),t.d(r,"__generator",(function(){return f})),t.d(r,"__createBinding",(function(){return p})),t.d(r,"__exportStar",(function(){return d})),t.d(r,"__values",(function(){return m})),t.d(r,"__read",(function(){return g})),t.d(r,"__spread",(function(){return v})),t.d(r,"__spreadArrays",(function(){return h})),t.d(r,"__await",(function(){return y})),t.d(r,"__asyncGenerator",(function(){return _})),t.d(r,"__asyncDelegator",(function(){return A})),t.d(r,"__asyncValues",(function(){return E})),t.d(r,"__makeTemplateObject",(function(){return O})),t.d(r,"__importStar",(function(){return N})),t.d(r,"__importDefault",(function(){return b})),t.d(r,"__classPrivateFieldGet",(function(){return x})),t.d(r,"__classPrivateFieldSet",(function(){return I}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var n=function(e,r){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var t in r)r.hasOwnProperty(t)&&(e[t]=r[t])})(e,r)};function o(e,r){function t(){this.constructor=e}n(e,r),e.prototype=null===r?Object.create(r):(t.prototype=r.prototype,new t)}var a=function(){return(a=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var o in r=arguments[t])Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e}).apply(this,arguments)};function i(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(e);o<n.length;o++)r.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(t[n[o]]=e[n[o]])}return t}function u(e,r,t,n){var o,a=arguments.length,i=a<3?r:null===n?n=Object.getOwnPropertyDescriptor(r,t):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,r,t,n);else for(var u=e.length-1;u>=0;u--)(o=e[u])&&(i=(a<3?o(i):a>3?o(r,t,i):o(r,t))||i);return a>3&&i&&Object.defineProperty(r,t,i),i}function c(e,r){return function(t,n){r(t,n,e)}}function s(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)}function l(e,r,t,n){return new(t||(t=Promise))((function(o,a){function i(e){try{c(n.next(e))}catch(e){a(e)}}function u(e){try{c(n.throw(e))}catch(e){a(e)}}function c(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,u)}c((n=n.apply(e,r||[])).next())}))}function f(e,r){var t,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=r.call(e,i)}catch(e){a=[6,e],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function p(e,r,t,n){void 0===n&&(n=t),e[n]=r[t]}function d(e,r){for(var t in e)"default"===t||r.hasOwnProperty(t)||(r[t]=e[t])}function m(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,o,a=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(e){o={error:e}}finally{try{n&&!n.done&&(t=a.return)&&t.call(a)}finally{if(o)throw o.error}}return i}function v(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(g(arguments[r]));return e}function h(){for(var e=0,r=0,t=arguments.length;r<t;r++)e+=arguments[r].length;var n=Array(e),o=0;for(r=0;r<t;r++)for(var a=arguments[r],i=0,u=a.length;i<u;i++,o++)n[o]=a[i];return n}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function _(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=t.apply(e,r||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(e){o[e]&&(n[e]=function(r){return new Promise((function(t,n){a.push([e,r,t,n])>1||u(e,r)}))})}function u(e,r){try{(t=o[e](r)).value instanceof y?Promise.resolve(t.value.v).then(c,s):l(a[0][2],t)}catch(e){l(a[0][3],e)}var t}function c(e){u("next",e)}function s(e){u("throw",e)}function l(e,r){e(r),a.shift(),a.length&&u(a[0][0],a[0][1])}}function A(e){var r,t;return r={},n("next"),n("throw",(function(e){throw e})),n("return"),r[Symbol.iterator]=function(){return this},r;function n(n,o){r[n]=e[n]?function(r){return(t=!t)?{value:y(e[n](r)),done:"return"===n}:o?o(r):r}:o}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,t=e[Symbol.asyncIterator];return t?t.call(e):(e=m(e),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(t){r[t]=e[t]&&function(r){return new Promise((function(n,o){(function(e,r,t,n){Promise.resolve(n).then((function(r){e({value:r,done:t})}),r)})(n,o,(r=e[t](r)).done,r.value)}))}}}function O(e,r){return Object.defineProperty?Object.defineProperty(e,"raw",{value:r}):e.raw=r,e}function N(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function b(e){return e&&e.__esModule?e:{default:e}}function x(e,r){if(!r.has(e))throw new TypeError("attempted to get private field on non-instance");return r.get(e)}function I(e,r,t){if(!r.has(e))throw new TypeError("attempted to set private field on non-instance");return r.set(e,t),t}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=function(e){return"[Measures]"===e.hierarchy};r.getMaxNesting=function(e,t){return void 0===t&&(t=new Set),(e.children||[]).forEach((function(e){t.add(e.levelName),r.getMaxNesting(e,t)})),t.size},r.getMaxExpansion=function(e){var t=0;return(e.children||[]).forEach((function(e){t+=r.getMaxExpansion(e)||1})),t},r.generateNormalizedPath=function(e,r){return(r&&r.hierarchy===e.hierarchy?(r.normalizedPath||[]).slice(0,-1).concat([e.name||null]):(r&&r.normalizedPath?r.normalizedPath:[]).concat([e.name])).filter(Boolean)},r.generatePath=function(e,r){return(r&&r.hierarchy===e.hierarchy?(r.path||[]).slice(0,-1).concat([(0===e.levelNum?e.hierarchy:e.name)||null]):(r&&r.path?r.path:[]).concat([0===e.levelNum?e.hierarchy:e.name])).filter(Boolean)},r.toMatrix=function(e,t,n,o,a,i,u,c){void 0===t&&(t=-1),void 0===n&&(n=0),void 0===o&&(o=void 0),void 0===a&&(a=void 0),void 0===i&&(i=void 0),void 0===u&&(u=void 0),void 0===c&&(c=void 0);var s=r.getMaxNesting(e),l=r.getMaxExpansion(e),f=o||s,p=a||l,d=i?i.slice():[],m=u?u.slice():new Array(p),g=d.findIndex((function(r){return r&&r.name===e.levelName&&r.level===e.levelNum})),v=d[g],h={name:e.levelName,level:e.levelNum,index:t,cells:new Array(p).fill(null)},y=-1!==t&&-1!==n,_={caption:e.caption,name:e.name,levelName:e.levelName,levelNum:e.levelNum,hasChildren:e.hasChildren,parentName:e.parentName,hierarchy:e.hierarchy,total:void 0!==e.total&&e.total||c&&c.children.length<=1&&c.total,parent:c,rowIndex:t,colIndex:n,depth:1,breadth:1,path:e.path||[],normalizedPath:e.normalizedPath||[],children:e.children.filter((function(r){return r.hierarchy===e.hierarchy}))};if(y)if(v)v.cells[n]=_,v.index>=t&&(t=v.index);else if(d[t]&&d[t].cells.length){for(var A=t;A<d.length;A++){d[A].index++}d.splice(t,0,h),d[t].cells[n]=_}else d[t]=h,d[t].cells[n]=_;var E=0;return e.children&&e.children.length?e.children.forEach((function(e){var o=r.toMatrix(e,t+1,n+E,f,p,d,m,_),a=o[0],i=o[1],u=o[3];E+=u||1,d=a.slice(),m=i.slice()})):e.normalizedPath&&(m[n]={total:_.total,path:e.normalizedPath}),_.depth=s,_.breadth=l,[d,m,s,l]};var a=function(e,r,t){var o;void 0===r&&(r=null),void 0===t&&(t=0);for(var i=n.__assign({},e,{total:!0,hasChildren:!1,children:[]}),u=0;u<e.children.length;u++){var c=a(e.children[u],e,u);o=o||c.hierarchy,c.hierarchy===o||!r||r.children.some((function(e){return e.total&&e.name===i.name}))||e.total||(i.children.push(c),e.children.splice(u,1),u--)}if(e.children.filter((function(e){return!e.total})).length>=1&&r&&!r.children.some((function(e){return e.total&&e.name===i.name}))&&!e.total){var s=e.children[0].hierarchy;e.hierarchy===s&&r.children.splice(t+1,0,i)}return e};r.toTree=function(e){var t={children:[]},i={};if(e.every((function(e){return 1===e.members.length&&o(e.members[0])})))return{children:e.map((function(e){var r=e.members[0];return n.__assign({},r,{normalizedPath:[r.name],parentName:r.name,path:[r.hierarchy]})}))};for(var u=0;u<e.length;u++)for(var s=c(e[u]),l="",f=function(e){var n,o=s.members[e];if(t.children&&0===t.children.length)n=t;else if(i[l]&&!i[l+o.name]&&0===o.levelNum)n=i[l];else if(i[l+o.parentName]&&o.levelNum>0&&!i[l+o.parentName+o.name])n=i[l+o.parentName];else if(!i[l+o.parentName]&&o.levelNum>0&&!i[l+o.parentName+o.name]){var a=Object.keys(i).find((function(e){return o.parentName===i[e].name}));a&&(n=i[a])}if(n){o.path=r.generatePath(o,n),o.normalizedPath=r.generateNormalizedPath(o,n);var u=n.children.findIndex((function(e){return e.hierarchy!==n.hierarchy}));-1!==u?n.children.splice(u,0,o):n.children.push(o)}o.parentName+=o.name,l+=o.parentName,i[l]||(i[l]=o)},p=0;p<s.members.length;p++)f(p);return c(a(t))},r.toData=function(e,r,t,n,o){var a=Array.from(new Array(o),(function(){return{cells:Array.from(new Array(n),(function(){return null}))}})),i=function(e){return e.join("|")},u=function(e){return e.members.map((function(e){return e.name}))},c=new Map,s=new Map;return r.forEach((function(e,r){c.set(i(e.path),r)})),t.forEach((function(e,r){s.set(i(e.path),r)})),e.forEach((function(e){var r=c.get(i(u(e.columnTuple))),n=s.get(i(u(e.rowTuple)));void 0!==r&&void 0!==n&&(a[n].cells[r]||(a[n].row=t[n].path,a[n].cells[r]=e))})),a};function i(e,r){for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];r[t]=u(n,r[t])}}function u(e,t){if(Array.isArray(e))return s(e);if(e instanceof Date)return r.cloneDate(e);if(e&&"object"==typeof e){var n=t||{};return i(e,n),n}return e}function c(e){return JSON.parse(JSON.stringify(e))}function s(e){return e.map((function(e){return u(e,void 0)}))}r.toColumns=function(e){for(var t=r.toMatrix(e),n=t[0],o=t[1],a=t[2],i=t[3],u=0;u<i;u++)for(var c=null,s=0;s<a;s++)if(n[s]){var l=n[s].cells[u];!l&&c&&(c.rowSpan=(c.rowSpan||1)+1),c&&(c.colSpan=c.breadth||1),l&&(c=l)}return[n,o,a,i]},r.toRows=function(e){for(var t=r.toMatrix(e),o=t[0],a=t[1],i=t[2],u=t[3],c=0;c<u;c++)for(var s=null,l=0;l<i;l++)if(o[l]){var f=o[l].cells[c];!f&&s&&(s.rowSpan=(s.rowSpan||1)+1),s&&(s.colSpan=s.breadth),f&&(s=f)}return function(e,r,t,o){for(var a=new Array(o),i=0;i<o;i++)for(var u=0;u<t;u++)if(e[u]&&e[u].cells[i]){var c=e[u].cells[i];a[i]||(a[i]={cells:new Array(t).fill(null)}),a[i].cells[u]=n.__assign({},c,{rowSpan:c.colSpan,colSpan:c.rowSpan})}return[a,r,o,t]}(o,a,i,u)},r.cloneDate=function(e){return e?new Date(e.getTime()):null},r.clone=function(e){var r={};return i(e,r),r},r.cloneObject=i,r.cloneValue=u,r.copy=c,r.cloneArray=s;var l=function(e,r,t){return{hierarchyUniqueName:e,uniqueName:r,caption:r,measure:r,name:r,type:t,kpi:!0}};r.buildKPIMeasures=function(e){var r=e.name;return[l(r,e.value,"value"),l(r,e.goal,"goal"),l(r,e.status,"status"),l(r,e.trend,"trend")]},r.addKPI=function(e){for(var r,t=0;t<e.length;t++)if(2===e[t].type){r=!0;break}r&&e.splice(t+1,0,{caption:"KPIs",defaultHierarchy:"[KPIs]",name:"KPIs",uniqueName:"[KPIs]"})},r.compareAxisWithField=function(e,r){return String(e.name)===String([r.defaultHierarchy?r.defaultHierarchy:r.uniqueName])},r.compareAxes=function(e,r){return String(e.name)===String(r.name)},r.filterField=function(e,t){for(var o=function(o){var a=e[o],i=a.name.findIndex((function(e){return r.compareAxisWithField({name:[e]},t)||String(e).startsWith(t.uniqueName)}));if(-1!==i)if(i===a.name.length-1||1===a.name.length)e.splice(o,1);else{a.name.splice(i,1);var u=e.findIndex((function(e){return e!==a&&String(e.name)===String(a.name)}));-1!==u&&(e[u]=n.__assign({},e[u],a,e[u].expand||a.expand?{expand:!0}:{}),e.splice(o,1))}},a=e.length-1;a>=0;a--)o(a)},r.insertAxis=function(e,t,n){var o=-1;if(n.dropTarget&&n.dropDirection){var a=n.dropDirection?"before"===n.dropDirection?0:1:0;o=e.findIndex((function(e){return r.compareAxes(e,n.dropTarget)}))+a}-1!==o?(e.forEach((function(e){var r;e.expand&&e.name.length>1&&e.name.length>o&&(r=e.name).splice.apply(r,[o,0].concat(t.name))})),e.splice(o,0,t)):e.push(t)},r.reverseColumnsByMeasures=function(e){var r=e.length&&e[0],t=r&&r.members[r.members.length-1];if(t&&o(t)){for(var n=[],a=new Set(e.map((function(e){return e.members[e.members.length-1].caption}))).size,i=0;i<e.length;i+=a)n.push(e.slice(i,i+a));var u=[];return n.forEach((function(e){u.push.apply(u,e.reverse())})),u}return e}},function(e,r,t){"use strict";function n(e,r){var t=e.querySelector(r);return t?t.textContent:""}Object.defineProperty(r,"__esModule",{value:!0}),r.parseResponse=function(e){var r=(new DOMParser).parseFromString(e,"text/xml"),t=Array.from(r.querySelectorAll("Axis")),o=Array.from(r.querySelectorAll("CellData > Cell")).map((function(e){return{fmtValue:n(e,"FmtValue"),ordinal:parseInt(e.getAttribute("CellOrdinal"),10),value:n(e,"Value")}})),a={tuples:[]},i={tuples:[]},u=[];t.forEach((function(e){if("SlicerAxis"!==e.getAttribute("name")){var r=0===a.tuples.length?a.tuples:i.tuples;Array.prototype.push.apply(r,function(e){return Array.from(e.querySelectorAll("Tuple")).map((function(e){return{members:Array.from(e.querySelectorAll("Member")).map((function(e){var r=parseInt(n(e,"LNum")||"0",10),t=parseInt(n(e,"CHILDREN_CARDINALITY")||"0",10)>0;return{caption:n(e,"Caption"),children:[],hasChildren:t,hierarchy:e.getAttribute("Hierarchy"),levelName:n(e,"LName"),levelNum:r,name:n(e,"UName"),parentName:n(e,"PARENT_UNIQUE_NAME")}}))}}))}(e))}}));var c=new Array(i.tuples.length*a.tuples.length).fill(null);o.forEach((function(e){c[e.ordinal]=e}));var s=0;return i.tuples.forEach((function(e){a.tuples.forEach((function(r){u.push({columnTuple:r,data:c[s],rowTuple:e}),s++}))})),{columns:a,data:u,rows:i}},r.getPropertyValue=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.subNode=function(e,r,t){var n=e.get(r);return n||(n=t||new Map,e.set(r,n)),n};r.createKey=function(e,r){return e+"&"+r},r.splitKeyValue=function(e){var r=e.indexOf("&");return-1!==r?[e.substring(0,r),e.substring(r+1)]:[e,void 0]}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(11),o=t(12);r.createRequestBody=function(e){var r='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Execute xmlns="urn:schemas-microsoft-com:xml-analysis"><Command><Statement>',t=e.columnAxes,a=void 0===t?[]:t,i=e.rowAxes,u=void 0===i?[]:i,c=e.measureAxes,s=void 0===c?[]:c,l=e.sort,f=void 0===l?[]:l,p=e.filter,d=void 0===p?[]:p,m="rows"===e.measuresAxis;return r+="SELECT NON EMPTY {",!a.length&&u.length&&(!s.length||s.length&&m)&&(a=u,u=[],m=!1),a.length||u.length||(m=!1),a.length?r+=o.serializeMembers(a,m?[]:s,f):s.length&&!m&&(r+=o.measureNames(s).join(",")),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON COLUMNS",(u.length||m&&s.length>1)&&(r+=", NON EMPTY {",u.length?r+=o.serializeMembers(u,m?s:[],f):r+=o.measureNames(s).join(","),r+="} DIMENSION PROPERTIES CHILDREN_CARDINALITY, PARENT_UNIQUE_NAME ON ROWS"),d.length?(r+=" FROM ",r+="(",r+=n.serializeFilters(d,e.connection.cube),r+=")"):r+=" FROM ["+e.connection.cube+"]",1===s.length&&a.length&&(r+=" WHERE ("+o.measureNames(s).join(",")+")"),(r+="</Statement></Command><Properties><PropertyList><Catalog>"+e.connection.catalog+"</Catalog><Format>Multidimensional</Format></PropertyList></Properties></Execute></Body></Envelope>").replace(/&/g,"&amp;")}},function(e,r,t){"use strict";function n(e,r,t){var n="";if(r){n+="<"+e+">";var o=void 0;for(var a in r)r[a]&&(o=r[a],t&&(a=a.replace(/([A-Z]+(?=$|[A-Z][a-z])|[A-Z]?[a-z]+)/g,"$1_").toUpperCase().replace(/_$/,"")),n+="<"+a+">"+o+"</"+a+">");n+="</"+e+">"}else n+="<"+e+"/>";return n}Object.defineProperty(r,"__esModule",{value:!0}),r.discoverCommands={schemaCatalogs:"DBSCHEMA_CATALOGS",schemaCubes:"MDSCHEMA_CUBES",schemaDimensions:"MDSCHEMA_DIMENSIONS",schemaHierarchies:"MDSCHEMA_HIERARCHIES",schemaKPIs:"MDSCHEMA_KPIS",schemaLevels:"MDSCHEMA_LEVELS",schemaMeasures:"MDSCHEMA_MEASURES",schemaMembers:"MDSCHEMA_MEMBERS"},r.createDiscoverBody=function(e){var t={},o='<Envelope xmlns="http://schemas.xmlsoap.org/soap/envelope/"><Header/><Body><Discover xmlns="urn:schemas-microsoft-com:xml-analysis">';return o+="<RequestType>"+(r.discoverCommands[e.command]||e.command)+"</RequestType>",o+="<Restrictions>"+n("RestrictionList",e.restrictions,!0)+"</Restrictions>",e.connection&&e.connection.catalog&&(t.Catalog=e.connection.catalog),o+="<Properties>"+n("PropertyList",t,!1)+"</Properties>",o+="</Discover></Body></Envelope>"}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=t(0),a=t(1);!function(e){e.toggleSelection="PIVOT_CONFIGURATOR_ACTION_TOGGLE_SELECTION",e.addColumnAxis="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXIS",e.addColumnAxes="PIVOT_CONFIGURATOR_ACTION_ADD_COLUMN_AXES",e.removeColumnAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXIS",e.removeColumnAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_COLUMN_AXES",e.addRowAxis="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXIS",e.addRowAxes="PIVOT_CONFIGURATOR_ACTION_ADD_ROW_AXES",e.removeRowAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXIS",e.removeRowAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_ROW_AXES",e.addMeasureAxis="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXIS",e.addMeasureAxes="PIVOT_CONFIGURATOR_ACTION_ADD_MEASURE_AXES",e.removeMeasureAxis="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXIS",e.removeMeasureAxes="PIVOT_CONFIGURATOR_ACTION_REMOVE_MEASURE_AXES",e.remove="PIVOT_CONFIGURATOR_ACTION_REMOVE",e.setSort="PIVOT_CONFIGURATOR_ACTION_SET_SORT",e.setFilter="PIVOT_CONFIGURATOR_ACTION_SET_FILTER",e.addFilter="PIVOT_CONFIGURATOR_ACTION_ADD_FILTER",e.changeFilter="PIVOT_CONFIGURATOR_ACTION_CHANGE_FILTER",e.removeFilter="PIVOT_CONFIGURATOR_ACTION_REMOVE_FILTER",e.setDragItem="PIVOT_CONFIGURATOR_ACTION_SET_DRAGITEM",e.drop="PIVOT_CONFIGURATOR_ACTION_DROP",e.setDropZone="PIVOT_CONFIGURATOR_ACTION_SET_DROP_ZONE",e.setDropTarget="PIVOT_CONFIGURATOR_ACTION_SET_DROP_TARGET",e.setDropDirection="PIVOT_CONFIGURATOR_ACTION_SET_DROP_DIRECTION"}(n=r.PIVOT_CONFIGURATOR_ACTION||(r.PIVOT_CONFIGURATOR_ACTION={})),r.configuratorReducer=function(e,t){var i,u,c,s,l,f,p,d,m;switch(t.type){case n.toggleSelection:if(!Array.isArray(t.payload)){var g=t.payload;if(2===g.type||"aggregator"in g)return e.measureAxes.some((function(e){return a.compareAxisWithField(e,g)}))?r.configuratorReducer(e,o.__assign({},t,{type:n.removeMeasureAxis})):r.configuratorReducer(e,o.__assign({},t,{type:n.addMeasureAxis}));if("kpi"===g.type){var v=a.buildKPIMeasures(g);return v.every((function(r){return e.measureAxes.some((function(e){return a.compareAxisWithField(e,r)}))}))?r.configuratorReducer(e,o.__assign({},t,{type:n.removeMeasureAxes,payload:v})):r.configuratorReducer(e,o.__assign({},t,{type:n.addMeasureAxes,payload:v.filter((function(r){return!e.measureAxes.some((function(e){return a.compareAxisWithField(e,r)}))}))}))}return t.payload.kpi?e.measureAxes.some((function(e){return a.compareAxisWithField(e,g)}))?r.configuratorReducer(e,o.__assign({},t,{type:n.removeMeasureAxis})):r.configuratorReducer(e,o.__assign({},t,{type:n.addMeasureAxis})):e.columnAxes.some((function(e){return a.compareAxisWithField(e,g)}))?r.configuratorReducer(e,o.__assign({},t,{type:n.removeColumnAxis})):e.rowAxes.some((function(e){return a.compareAxisWithField(e,g)}))?r.configuratorReducer(e,o.__assign({},t,{type:n.removeRowAxis})):!e.columnAxes||!e.columnAxes.length||e.rowAxes&&e.rowAxes.length?r.configuratorReducer(e,o.__assign({},t,{type:n.addColumnAxis})):r.configuratorReducer(e,o.__assign({},t,{type:n.addRowAxis}))}break;case n.addColumnAxis:u=(e.columnAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case n.addColumnAxes:break;case n.removeColumnAxis:u=(e.columnAxes||[]).filter((function(e){return!a.compareAxisWithField(e,t.payload)})).slice(),a.filterField(u,t.payload);break;case n.removeColumnAxes:break;case n.addRowAxis:i=(e.rowAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case n.addRowAxes:break;case n.removeRowAxis:i=(e.rowAxes||[]).filter((function(e){return!a.compareAxisWithField(e,t.payload)})).slice(),a.filterField(i,t.payload);break;case n.removeRowAxes:break;case n.addMeasureAxis:c=(e.measureAxes||[]).concat([{name:[t.payload.defaultHierarchy||t.payload.uniqueName]}]);break;case n.removeMeasureAxis:c=(e.measureAxes||[]).filter((function(e){return!a.compareAxisWithField(e,t.payload)})).slice();break;case n.addMeasureAxes:c=(e.measureAxes||[]).concat((t.payload||[]).map((function(e){return{name:[e.defaultHierarchy||e.uniqueName]}})));break;case n.removeMeasureAxes:c=(e.measureAxes||[]).filter((function(e){return!t.payload.some((function(r){return a.compareAxisWithField(e,r)}))})).slice();break;case n.remove:e.columnAxes.some((function(e){return a.compareAxes(e,t.payload)}))&&(u=e.columnAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice(),a.filterField(u,{uniqueName:t.payload.name})),e.rowAxes.some((function(e){return a.compareAxes(e,t.payload)}))&&(i=e.rowAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice(),a.filterField(i,{uniqueName:t.payload.name})),e.measureAxes.some((function(e){return a.compareAxes(e,t.payload)}))&&(c=e.measureAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice());break;case n.setDragItem:f=t.payload;break;case n.setDropZone:p=t.payload;break;case n.setDropTarget:m=t.payload;break;case n.setDropDirection:d=t.payload;break;case n.drop:if(e.dragItem&&e.dropZone){var h=e.columnAxes.find((function(e){return a.compareAxes(e,t.payload)})),y=e.rowAxes.find((function(e){return a.compareAxes(e,t.payload)})),_=e.measureAxes.find((function(e){return a.compareAxes(e,t.payload)})),A=void 0;switch(h&&(A=h,u=e.columnAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice(),a.filterField(u,{uniqueName:t.payload.name})),y&&(A=y,i=e.rowAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice(),a.filterField(i,{uniqueName:t.payload.name})),_&&(A=_,c=e.measureAxes.filter((function(e){return!a.compareAxes(e,t.payload)})).slice()),e.dropZone){case"columnAxes":u=u||e.columnAxes.slice(),a.insertAxis(u,A,e);break;case"rowAxes":i=i||e.rowAxes.slice(),a.insertAxis(i,A,e);break;case"measureAxes":c=c||e.measureAxes.slice(),a.insertAxis(c,A,e)}}f=null,p=null,m=null;break;case n.setSort:s=t.payload;break;case n.setFilter:l=Array.isArray(t.payload)?t.payload:[t.payload];break;case n.addFilter:l=(e.filter||[]).slice(),Array.isArray(t.payload)?l.push.apply(l,t.payload):l.push(t.payload);break;case n.changeFilter:l=Array.isArray(t.payload)?(e.filter||[]).map((function(e){return t.payload.some((function(r){return r.field===e.field}))?t.payload.find((function(r){return r.field===e.field})):e})):(e.filter||[]).map((function(e){return e.field===t.payload.field?t.payload:e}));break;case n.removeFilter:l=(e.filter||[]).slice(),l=Array.isArray(t.payload)?l.filter((function(e){return!t.payload.some((function(r){return r.field===e.field&&r.operator===e.operator}))})):l.filter((function(e){return!(e.field===t.payload.field&&e.operator===t.payload.operator)}))}return{dragItem:f,dropTarget:m,dropDirection:d,dropZone:p,columnAxes:u,rowAxes:i,measureAxes:c,filter:l,sort:s}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(23),o=t(3),a=function(e,r,t){e.forEach((function(n,i){if(i!==t){n.size>0&&a(n,r,t);var u=n.get(t),c=o.subNode(e,t,{});r.forEach((function(e){e.aggregate.init(c),e.aggregate.merge(u,c)}))}}))};r.mergeTrees=function(e,t,n,a){e.forEach((function(e,i){var u;i!==a?(u=o.subNode(t,i),r.mergeTrees(e,u,n,a)):(u=o.subNode(t,i,{}),n.forEach((function(r){r.aggregate.init(u),r.aggregate.merge(e,u)})))}))};var i=function(e,t,n,a){e.forEach((function(u,c){if(c!==n){u.size>0&&i(u,t,n,a);var s=o.subNode(u,n),l=o.subNode(e,n);r.mergeTrees(s,l,t,a)}}))};r.createDataTree=function(e,r,t,u,c,s){var l=new Map,f=new Map,p=r.concat(t),d=new Set,m=c.dataField,g=c.columnsData,v=n.initializeFiltering(r,t,s),h=v.hasFilter,y=v.predicate,_=v.filteringAxes;return e.forEach((function(e){if(h){var n={};if(_.forEach((function(r){n[r.key]=r.displayValue(e)})),!y(n))return}var a=p.map((function(r){return r.displayValue(e)})),i="".concat.apply("",a),c=f.get(i);if(!c){var s=l,v=function(r){s=o.subNode(s,o.createKey(r.key,r.displayValue(e)))};r.forEach(v),s=o.subNode(s,g),d.add(s),t.forEach(v),c={},s.set(m,c),f.set(i,c),u.forEach((function(e){e.aggregate.init(c)}))}u.forEach((function(r){r.aggregate.accumulate(c,r.value(e))}))})),d.forEach((function(e){return a(e,u,m)})),i(l,u,g,m),l},r.cloneDataTree=function(e,t,n){var o=new Map;return r.mergeTrees(e,o,n,t),o}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(7),o=t(3),a=function(e,r,t){var n=o.splitKeyValue(e),a=n[0],i=n[1],u=t.slice();if(a&&i){var c=r.find((function(e){return e.key===a})),s=c?c.caption:"";return u.map((function(r){return r===s?e:r}))}return u},i=function(e,r,t,i,u,c,s){for(var l=s||new Map,f=i.map((function(e){return e.caption}));r.length>1&&i.some((function(e){return e.caption===r[r.length-1].caption}));)r.pop(),f.pop();var p=e;return r.forEach((function(e,r){if(f=a(e.name,i,f),p&&!i.some((function(r){return r.caption===e.name}))){if(!p.has(e.name)&&!l.has(f.slice(0,f.indexOf(e.name)+1).join("-")))for(var s=Array.from(p).find((function(e){return e[0]!==t})),d=s&&s[0],m=d&&o.splitKeyValue(d)[0],g=m?r-i.findIndex((function(e){return e.key===m})):0,v=function(r){var o=[];p.forEach((function(e,r){r!==t&&o.push.apply(o,Array.from(e).filter((function(e){return e[0]!==t})))}));var s=new Map;o.forEach((function(e){if(s.has(e[0])){var r=s.get(e[0]),t=e[1],o=new Map;n.mergeTrees(r,o,u,c),n.mergeTrees(t,o,u,c),s.set(e[0],o)}else s.set(e[0],new Map(e[1]))}));var d=f.slice(0,f.indexOf(e.name));s.forEach((function(e,r){l.set(a(r,i,d.concat([r])).join("-"),e)})),s.set(t,p.get(t)),p=s},h=0;h<g;h++)v();p=p.get(e.name)||l.get(f.slice(0,f.indexOf(e.name)+1).join("-"))}})),p};r.readData=function(e,r,t,n,o,a,u){var c=[],s=n.dataField,l=n.columnsData,f=new Map;return r.forEach((function(r){var n=i(e,r.members.slice(),l,a,u,s,f),p=n&&n.get(l);t.forEach((function(e){var t=e.members.slice(),n=u[0];if("[Measures].[MeasuresLevel]"===t[t.length-1].levelName){var a=t.pop();n=u.find((function(e){return String(e.name)===a.caption}))||n}var l=p&&i(p,t,s,o,u,s),f="",d="";if(l&&n){var m=n.aggregate.result(l.get(s));f=String(m),d=n.aggregate.format(m)}c.push({columnTuple:e,data:{fmtValue:d,ordinal:0,value:f},rowTuple:r})}))})),c}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e){this.tabIndex=0,this.root=null,this.eventHandlers={},this.update=function(){},this.tabIndex=e.tabIndex}return Object.defineProperty(e.prototype,"elements",{get:function(){return this.root?Array.from(this.root.querySelectorAll(this.selectors.join(","))):[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this.root&&this.root.querySelector(this.selectors.join(","))||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){var e=this.elements;return e[e.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this.elements.find((function(e){return e.matches(":focus")}))},enumerable:!0,configurable:!0}),e.prototype.start=function(e){var r=this;this.root=e;var t=function(t){n.mouseEvents[t]&&(n.eventHandlers[t]=function(e){var n=e.target instanceof Element&&e.target.closest(r.selectors.join(","));n&&r.mouseEvents[t].call(void 0,n,r,e)},e.addEventListener(t,n.eventHandlers[t]))},n=this;for(var o in this.mouseEvents)t(o);var a=function(t){i.keyboardEvents[t]&&(i.eventHandlers[t]=function(e){var n=e.target instanceof Element&&e.target.closest(r.selectors.join(",")),o=" "===e.key?"Space":e.key;n&&r.keyboardEvents[t][o]&&r.keyboardEvents[t][o].call(void 0,n,r,e)},e.addEventListener(t,i.eventHandlers[t]))},i=this;for(var o in this.keyboardEvents)a(o)},e.prototype.stop=function(){if(this.root)for(var e in this.eventHandlers)this.eventHandlers[e]&&this.root.removeEventListener(e,this.eventHandlers[e]);this.root=null},e.prototype.focusElement=function(e,r){e&&(r&&(r.removeAttribute("tabindex"),r.classList.remove("k-focus")),e.setAttribute("tabindex",String(this.tabIndex)),e.focus({preventScroll:!0}))},e}();r.Navigation=n},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=t(4);r.createRequestBody=o.createRequestBody;var a=t(13);r.fetchData=a.fetchData,r.fetchDiscover=a.fetchDiscover;var i=t(5);r.createDiscoverBody=i.createDiscoverBody,r.discoverCommands=i.discoverCommands;var u=t(15);r.createDataState=u.createDataState;var c=t(16);r.createAxisDescriptors=c.createAxisDescriptors;var s=t(17);r.setSort=s.setSort;var l=t(18);r.setFilter=l.setFilter;var f=t(2);r.parseResponse=f.parseResponse;var p=t(1);r.addKPI=p.addKPI,r.buildKPIMeasures=p.buildKPIMeasures,r.toTree=p.toTree,r.toColumns=p.toColumns,r.toRows=p.toRows,r.toData=p.toData,r.compareAxes=p.compareAxes;var d=t(19);r.headersReducer=d.headersReducer,r.HEADERS_ACTION=d.HEADERS_ACTION,n.__exportStar(t(6),r),n.__exportStar(t(21),r);var m=t(26);r.PivotGridNavigation=m.PivotGridNavigation,r.ConfiguratorNavigation=m.ConfiguratorNavigation},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={contains:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}") > 0',doesnotcontain:', InStr({0}.CurrentMember.MEMBER_CAPTION,"{1}")',endswith:', Right({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"',eq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',neq:', {0}.CurrentMember.MEMBER_CAPTION = "{1}"',startswith:', Left({0}.CurrentMember.MEMBER_CAPTION,Len("{1}"))="{1}"'},o="doesnotcontain",a="in",i="neq";function u(e){var r="",t=String(e.value),u=e.field,c=e.operator;return c===a?(r+="{",r+=t,r+="}"):(r+=c===i||c===o?"-":"",r+="Filter(",r+=u+".MEMBERS",r+=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];return r.forEach((function(r,t){e=e.replace(new RegExp("\\{"+t+"\\}","g"),r)})),e}(n[c],u,t),r+=")"),r}r.serializeFilters=function(e,r){for(var t="",n="",o=e.length-1;o>=0;o--)n="SELECT (",n+=u(e[o]),n+=") ON 0",t=o===e.length-1?n+=" FROM ["+r+"]":n+" FROM ( "+t+" )";return t}},function(e,r,t){"use strict";function n(e){for(var r,t=e.length,n=[],o=0;o<t;o++)r=e[o],n.push(void 0!==r.name?r.name:r);return n}function o(e,r){var t=r.length;r=r.slice(0);for(var n=0;n<e.length;n++)for(var o=e[n],a=0;a<t;a++){var i=u(r[a]);if(-1!==o.indexOf(i)){r[a]=o;break}}return r}function a(e,r){var t=e.slice(0);return r.length>1&&t.push("{"+n(r).join(",")+"}"),function e(r){var t,n="CROSSJOIN({";r.length>2?(t=r.pop(),n+=e(r)):(n+=r.shift(),t=r.pop());return n+="},{",n+=t,n+="})"}(t)}function i(e,r){var t=e.length-1,n=e[t],o=function(e,r){for(var t=0,n=e.length;t<n;t++)if(0===r.indexOf(e[t].field))return e[t];return null}(r,n);return o&&o.dir?n="ORDER("+n+".Children,"+o.field+".CurrentMember.MEMBER_CAPTION,"+o.dir+")":n+=".Children",e[t]=n,e}function u(e){var r=e.split(".");return r.length>2?r[0]+"."+r[1]:e}Object.defineProperty(r,"__esModule",{value:!0}),r.serializeMembers=function(e,r,t){var n,c="",s=function(e){for(var r,t=[],n=[],o=[],a=0;a<e.length;a++){var i=e[a],c=i.name;if(r=!1,c.length>1)n.push(i);else{for(var s=u(c[0]),l=0,f=o.length;l<f;l++)if(0===o[l].name[0].indexOf(s)){r=!0;break}r||o.push(i),i.expand&&t.push(i)}}return{expanded:t=t.concat(n),root:o}}(e=e||[]),l=s.expanded,f=function(e){var r=[];return e.forEach((function(e){var t=e.name[0],n=u(t);r.some((function(e){return 0===e.indexOf(n)}))||r.push(t)})),r}(s.root),p=[],d=l.length,m=0,g=[];if(f.length>1||r.length>1){for(p.push(a(f,r));m<d;m++)g=o(n=i(l[m].name,t),f),p.push(a(g,r));c+=p.join(",")}else{for(;m<d;m++)n=i(l[m].name,t),g.push(n[0]);c+=f.concat(g).join(",")}return c},r.measureNames=n},function(e,r,t){"use strict";var n=this;Object.defineProperty(r,"__esModule",{value:!0});var o=t(0),a=t(4),i=t(2),u=t(5),c=t(14),s={schemaCatalogs:c.parseCatalogs,schemaCubes:c.parseCubes,schemaDimensions:c.parseDimensions,schemaHierarchies:c.parseHierarchies,schemaKPIs:c.parseKPIs,schemaLevels:c.parseLevels,schemaMeasures:c.parseMeasures,schemaMembers:c.parseMembers};r.fetchData=function(e,r){return o.__awaiter(n,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(u){switch(u.label){case 0:return t=o.__assign({body:a.createRequestBody(r),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,t)];case 1:return[4,u.sent().text()];case 2:return n=u.sent(),[2,i.parseResponse(n)]}}))}))},r.fetchDiscover=function(e,r){return o.__awaiter(n,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(a){switch(a.label){case 0:return t=o.__assign({body:u.createDiscoverBody(r),headers:{"Content-Type":"text/xml"},method:"POST"},e.init),[4,fetch(e.url,t)];case 1:return[4,a.sent().text()];case 2:return n=a.sent(),[2,s[r.command](n)]}}))}))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(2);r.parseCubes=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"CUBE_NAME"),caption:n.getPropertyValue(e,"CUBE_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),type:n.getPropertyValue(e,"CUBE_TYPE")}}))},r.parseCatalogs=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"CATALOG_NAME"),description:n.getPropertyValue(e,"DESCRIPTION")}}))},r.parseMeasures=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"MEASURE_NAME"),caption:n.getPropertyValue(e,"MEASURE_CAPTION"),uniqueName:n.getPropertyValue(e,"MEASURE_UNIQUE_NAME"),description:n.getPropertyValue(e,"DESCRIPTION"),aggregator:n.getPropertyValue(e,"MEASURE_AGGREGATOR"),groupName:n.getPropertyValue(e,"MEASUREGROUP_NAME"),displayFolder:n.getPropertyValue(e,"MEASURE_DISPLAY_FOLDER"),defaultFormat:n.getPropertyValue(e,"DEFAULT_FORMAT_STRING")}}))},r.parseKPIs=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"KPI_NAME"),uniqueName:n.getPropertyValue(e,"KPI_NAME"),caption:n.getPropertyValue(e,"KPI_CAPTION"),value:n.getPropertyValue(e,"KPI_VALUE"),goal:n.getPropertyValue(e,"KPI_GOAL"),status:n.getPropertyValue(e,"KPI_STATUS"),trend:n.getPropertyValue(e,"KPI_TREND"),statusGraphic:n.getPropertyValue(e,"KPI_STATUS_GRAPHIC"),trendGraphic:n.getPropertyValue(e,"KPI_TREND_GRAPHIC"),description:n.getPropertyValue(e,"KPI_DESCRIPTION"),groupName:n.getPropertyValue(e,"MEASUREGROUP_NAME"),type:"kpi"}}))},r.parseDimensions=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{caption:n.getPropertyValue(e,"DIMENSION_CAPTION"),defaultHierarchy:n.getPropertyValue(e,"DEFAULT_HIERARCHY"),description:n.getPropertyValue(e,"DESCRIPTION"),name:n.getPropertyValue(e,"DIMENSION_NAME"),type:parseInt(n.getPropertyValue(e,"DIMENSION_TYPE"),10),uniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME")}}))},r.parseHierarchies=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"HIERARCHY_NAME"),caption:n.getPropertyValue(e,"HIERARCHY_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),uniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),displayFolder:n.getPropertyValue(e,"HIERARCHY_DISPLAY_FOLDER"),origin:n.getPropertyValue(e,"HIERARCHY_ORIGIN"),defaultMember:n.getPropertyValue(e,"DEFAULT_MEMBER")}}))},r.parseLevels=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"LEVEL_NAME"),caption:n.getPropertyValue(e,"LEVEL_CAPTION"),description:n.getPropertyValue(e,"DESCRIPTION"),uniqueName:n.getPropertyValue(e,"LEVEL_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),displayFolder:n.getPropertyValue(e,"LEVEL_DISPLAY_FOLDER"),orderingProperty:n.getPropertyValue(e,"LEVEL_ORDERING_PROPERTY"),origin:n.getPropertyValue(e,"LEVEL_ORIGIN"),hierarchyUniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME")}}))},r.parseMembers=function(e){var r=(new DOMParser).parseFromString(e,"text/xml");return Array.from(r.querySelectorAll("DiscoverResponse > return > root > row")).map((function(e){return{name:n.getPropertyValue(e,"MEMBER_NAME"),caption:n.getPropertyValue(e,"MEMBER_CAPTION"),uniqueName:n.getPropertyValue(e,"MEMBER_UNIQUE_NAME"),dimensionUniqueName:n.getPropertyValue(e,"DIMENSION_UNIQUE_NAME"),hierarchyUniqueName:n.getPropertyValue(e,"HIERARCHY_UNIQUE_NAME"),levelUniqueName:n.getPropertyValue(e,"LEVEL_UNIQUE_NAME"),childrenCardinality:n.getPropertyValue(e,"CHILDREN_CARDINALITY")}}))}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1);r.createDataState=function(e){return{columns:n.reverseColumnsByMeasures(e.columns.tuples),data:e.data,rows:e.rows.tuples}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createAxisDescriptors=function(e){for(var r=[],t=0,n=Object.keys(e);t<n.length;t++){var o=n[t];r.push({name:JSON.parse(o),expand:e[o]})}return r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setSort=function(e,r){void 0===r&&(r=[]),e.sort=r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setFilter=function(e,r){void 0===r&&(r=[]),e.filter=r}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);n.__exportStar(t(20),r),n.__exportStar(t(6),r)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,o=t(0);!function(e){e.toggle="HEADERS_ACTION_TOGGLE",e.expand="HEADERS_ACTION_EXPAND",e.collapse="HEADERS_ACTION_COLLAPSE"}(n=r.HEADERS_ACTION||(r.HEADERS_ACTION={}));var a=function(e,r,t){var n=new Set;return e.children.forEach((function(e){var o=r(e);t&&n.add(String(e.path)),a(e,r,t||o).map((function(e){n.add(e)}))})),Array.from(n.values())};r.headersReducer=function(e,t){switch(t.type){case n.toggle:var i=e.find((function(e){return String(e.name)===String(t.payload)}));return r.headersReducer(e,o.__assign({},t,{type:i&&i.expand?n.collapse:n.expand}));case n.expand:var u=e.find((function(e){return String(e.name)===String(t.payload)}));if(u&&!0===u.expand)return e;if(!u||!1!==u.expand&&void 0!==u.expand){var c=e.slice();return c.push({name:t.payload,expand:!0}),c}return e.map((function(e){return e===u?o.__assign({},u,{expand:!0}):e}));case n.collapse:var s=a(t.tree,(function(e){return!e.total&&String(e.path)===String(t.payload)}));return e.slice().filter((function(e){return!s.some((function(r){return r===String(e.name)}))})).map((function(e){return o.__assign({},e,{expand:Boolean(e.expand)})})).map((function(e){return String(e.name)===String(t.payload)?t.payload.length>1?void 0:{name:t.payload,expand:!1}:e})).filter(Boolean);default:return e}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0);n.__exportStar(t(22),r),n.__exportStar(t(7),r),n.__exportStar(t(8),r),n.__exportStar(t(24),r),n.__exportStar(t(25),r)},function(e,r,t){"use strict";var n;Object.defineProperty(r,"__esModule",{value:!0}),function(e){e[e.Sum=0]="Sum",e[e.Count=1]="Count",e[e.Min=2]="Min",e[e.Max=3]="Max",e[e.Average=4]="Average"}(n=r.AggregateType||(r.AggregateType={}));var o=0;r.createAggregate=function(e){var r=n[e]+"_"+o++;switch(e){case n.Sum:return{init:function(e){r in e==!1&&(e[r]=0)},merge:function(e,t){t[r]+=e[r]},accumulate:function(e,t){e[r]+=t},result:function(e){return e[r]},format:function(e){return e.toFixed(2)}};case n.Count:return{init:function(e){r in e==!1&&(e[r]=0)},merge:function(e,t){t[r]+=e[r]},accumulate:function(e,t){e[r]+=1},result:function(e){return e[r]},format:function(e){return e.toFixed()}};case n.Min:return{init:function(e){r in e==!1&&(e[r]=Number.POSITIVE_INFINITY)},merge:function(e,t){t[r]=Math.min(e[r],t[r])},accumulate:function(e,t){e[r]=Math.min(t,e[r])},result:function(e){return Number.isFinite(e[r])?e[r]:NaN},format:function(e){return e.toFixed(2)}};case n.Max:return{init:function(e){r in e==!1&&(e[r]=Number.NEGATIVE_INFINITY)},merge:function(e,t){t[r]=Math.max(e[r],t[r])},accumulate:function(e,t){e[r]=Math.max(t,e[r])},result:function(e){return Number.isFinite(e[r])?e[r]:NaN},format:function(e){return e.toFixed(2)}};case n.Average:var t=r+"_sum",a=r+"_count";return{init:function(e){a in e==!1&&(e[t]=0,e[a]=0)},merge:function(e,r){r[t]+=e[t],r[a]+=e[a]},accumulate:function(e,r){e[t]+=r,e[a]+=1},result:function(e){return e[t]/e[a]},format:function(e){return e.toFixed(2)}};default:throw new Error("Invalid aggregate type provided")}},r.sumAggregate=r.createAggregate(n.Sum),r.countAggregate=r.createAggregate(n.Count),r.minAggregate=r.createAggregate(n.Min),r.maxAggregate=r.createAggregate(n.Max),r.averageAggregate=r.createAggregate(n.Average)},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(29);var o=function(e,r){(Array.isArray(e)?e:e.filters).forEach((function(e){return function e(r,t){"filters"in r?r.filters.map((function(r){return e(r,t)})):t(r)}(e,r)}))};r.initializeFiltering=function(e,r,t){var a=t?Array.isArray(t)?{logic:"and",filters:t}:t:void 0,i=a?n.compileFilter(a):function(){return!0},u=e.concat(r),c=[];o(t||[],(function(e){"field"in e&&e.field&&c.push(e.field)}));var s={hasFilter:!1,predicate:i,filteringAxes:[]};if(c.some((function(e){return"function"==typeof e})))s.filteringAxes=u.slice();else if(c.length>0){var l=Array.from(new Set(c).values()),f=u.filter((function(e){return l.indexOf(e.key)>=0}));s.filteringAxes=f}return s.hasFilter=s.filteringAxes.length>0,s}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(1),o=t(3),a=t(8),i=function(e,r,t){e.forEach((function(e,n){if(!t[n]){var a=o.subNode(r,n);i(e,a,t)}}))};r.rootFields=function(e){var r=new Set;return e.forEach((function(e){1!==e.name.length||o.splitKeyValue(e.name[0])[1]||r.add(e.name[0])})),r},r.createTuples=function(e,t,n,a,u){var c=r.rootFields(t),s=[],l=function(e,r){var t={members:[]};return e.forEach((function(e){var n=r.find((function(r){return r.key===e})),o=n?n.caption:"",a={caption:o,children:[],hasChildren:!0,parentName:"",levelNum:0,levelName:o,hierarchy:e,name:o};t.members.push(a)})),t}(c,e);s.push(l);for(var f=function(r){var l=t[r];if(1===l.name.length&&!l.expand&&c.has(l.name[0]))return"continue";var f,p=new Set(c.keys()),d=[],m=[],g=[];l.name.forEach((function(r,t){var c,v=o.splitKeyValue(r),h=v[0],y=v[1];if(f=e.find((function(e){return e.key===h})),y){p.delete(h),m.push(r);var _={children:[],caption:y,hierarchy:h,levelNum:1,levelName:h+" "+h,name:r,parentName:f?f.caption:""};d.push(_)}else if(l.expand&&l.name.length-1===t){p.delete(r),m.push(r);var A=function(e,r,t){for(var n,a=[],u=function(e){return Array.from(e).filter((function(e){return!t[e[0]]}))},c=new Map(e),s=function(e){if(n=c.get(r[e]))c=new Map(n);else if(e<r.length-1&&Array.from(c).some((function(t){return o.splitKeyValue(t[0])[0]===r[e]}))){var s=[];c.forEach((function(e,r){t[r]||s.push.apply(s,u(new Map(e)))})),c=new Map,s.forEach((function(e){if(c.has(e[0])){var r=c.get(e[0]),n=e[1],o=new Map;i(r,o,t),i(n,o,t),c.set(e[0],o)}else c.set(e[0],new Map(e[1]))}))}else 0!==e&&e!==r.length-1||Array.from(c).some((function(t){return o.splitKeyValue(t[0])[0]===r[e]}))&&a.push.apply(a,u(c))},l=0;l<r.length;l++)s(l);return a}(n,m,u),E=a.find((function(e){return e.field===h}));E&&E.dir&&A.sort(function(e,r){return function(t,n){var a=e.dir,i=r.sortValue(o.splitKeyValue(t[0])[1]),u=r.sortValue(o.splitKeyValue(n[0])[1]);return i<u?"asc"===a?-1:1:i>u?"asc"===a?1:-1:0}}(E,f));for(var O=0;O<A.length;O++){var N=A[O][0],b={members:[]};g.push(b);var x=o.splitKeyValue(N)[1];f=e.find((function(e){return e.key===r}));_={caption:x,children:[],levelName:r+" "+r,levelNum:1,parentName:f?f.caption:"",hierarchy:r,name:N};(c=b.members).push.apply(c,d),b.members.push(_)}}else if(l.expand){var I=(f=e.find((function(e){return e.key===r})))?f.caption:"";p.delete(r),m.push(r);_={children:[],caption:I,hierarchy:r,levelName:I,levelNum:0,name:I,parentName:""};d.push(_)}p.forEach((function(r){g.forEach((function(t){var n=(f=e.find((function(e){return e.key===r})))?f.caption:"",o={children:[],hasChildren:!0,caption:n,hierarchy:r,levelName:n,levelNum:0,name:n,parentName:""};t.members.push(o)}))})),s.push.apply(s,g)}))},p=0;p<t.length;p++)f(p);return s};var u=function(e){return{caption:String(e.name),children:[],hasChildren:!1,hierarchy:"[Measures]",levelName:"[Measures].[MeasuresLevel]",levelNum:0,name:"[Measures].["+e.name+"]",parentName:""}},c=function(e,r){var t=u(r),o=n.copy(e);return o.members.push(t),o};r.addMultipleMeasures=function(e,r){if(r.length<2)return e;for(var t=e.slice(),o=t.length-1;o>=0;o--){var a=t[o];t[o]=c(t[o],r[0]);for(var i=1;i<r.length;i++){var u=c(a,r[i]);t.splice(o+i,0,u)}}return n.reverseColumnsByMeasures(t)},r.createLocalDataState=function(e){var t,n=e.dataTree,o=e.rowSettings,i=e.columnSettings,c=e.rowAxes,s=e.columnAxes,l=e.measures,f=e.sort,p=e.fields,d=((t={})[p.columnsData]=p.columnsData,t[p.dataField]=p.dataField,t),m=s.length?r.createTuples(i,s,n.get(p.columnsData),f,d):l.map((function(e){return{members:[u(e)]}})),g=s.length>0?r.addMultipleMeasures(m,l):m,v=c.length?r.createTuples(o,c,n,f,d):[{members:[]}];return{columns:g,data:a.readData(n,v,g,p,i,o,l),rows:v}}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.createFlatSchemaDimensions=function(e,r){var t=Object.keys(e).map((function(e){return{caption:e,defaultHierarchy:e,description:"",name:e,uniqueName:e,hierarchyUniqueName:e,measure:!0,type:1}}));return r.length&&t.push({caption:"Measures",children:r.map((function(e){return{aggregator:"1",caption:String(e.name),defaultFormat:"",description:"",displayFolder:"",groupName:String(e.name),name:String(e.name),uniqueName:String(e.name)}})),type:2,description:"",name:"Measures",uniqueName:"[Measures]"}),t}},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(27);r.PivotGridNavigation=n.PivotGridNavigation;var o=t(28);r.ConfiguratorNavigation=o.ConfiguratorNavigation},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=t(9),a=".k-pivotgrid .k-pivotgrid-values",i=".k-pivotgrid .k-pivotgrid-column-headers",u=".k-pivotgrid .k-pivotgrid-row-headers",c=".k-pivotgrid > .k-pivotgrid-empty-cell",s="table.k-pivotgrid-table",l=".k-pivotgrid-cell",f=[a,i,u].join(","),p=[c,[i,s,l].join(" "),[u,s,l].join(" "),[a,s,l].join(" ")],d=function(e,r,t){var n=e.querySelector(".k-icon, .k-svg-icon");if(n){var o=r.elements.indexOf(e);r.update=function(){r.focusElement(r.elements[o],null),r.update=function(){}},n.click(),t.preventDefault()}},m=function(e,r,t){e.offsetLeft<r.scrollLeft&&(t.scrollLeft=e.offsetLeft)},g=function(e,r,t){e.offsetLeft+e.offsetWidth>r.scrollLeft+r.offsetWidth&&e.offsetWidth<r.offsetWidth&&(t.scrollLeft=e.offsetLeft+e.offsetWidth-r.offsetWidth)},v=function(e,r,t){r.scrollTop&&e.offsetTop<r.scrollTop&&(t.scrollTop=e.offsetTop)},h=function(e,r,t){e.offsetTop+e.offsetHeight>r.scrollTop+r.offsetHeight&&e.offsetHeight<r.offsetHeight&&(t.scrollTop=e.offsetTop+e.offsetHeight-r.offsetHeight)},y=function(e,r,t){var n=r.querySelector(a),o=e&&e.closest(f);n&&o&&e&&t.forEach((function(r){return r(e,o,n)}))},_=function(e){var r=Array.from(e.rows),t=Array.from(r&&r[0]&&r[0].cells||[]).map((function(e){return e.colSpan})).reduce((function(e,r){return e+r}),0),n=r.map((function(){return new Array(t)}));return r.forEach((function(e,r){var t=0;Array.from(e.cells).forEach((function(e){for(var o=0;o<e.colSpan;o++){for(var a=0;a<e.rowSpan;a++){var i=n[r+a].findIndex((function(e,r){return r>=t&&!e}));n[r+a][i]=e}t++}}))})),n},A=function(e){for(var r=_(e.querySelector([i,s].join(" "))),t=_(e.querySelector([u,s].join(" "))),n=_(e.querySelector([a,s].join(" "))),o=e.querySelector(c),l=new Array(t[0].length).fill(o),f=[],p=0;p<r.length;p++)f.push(l.concat(r[p]));for(p=0;p<t.length;p++)f.push(t[p].concat(n[p]));return f},E=function(e){return e.ctrlKey||e.metaKey},O=function(e,r,t){for(var n=A(e),o=function(e,r){for(var t=0;t<e.length;t++)for(var n=0;n<e[t].length;n++)if(e[t][n]===r)return[t,n];return[-1,-1]}(n,r),a=[o[0]+t[0],o[1]+t[1]],i=n[a[0]]&&n[a[0]][a[1]];i&&i===r;)i=n[(a=[a[0]+t[0],a[1]+t[1]])[0]]&&n[a[0]][a[1]];return i},N={keydown:{ArrowLeft:function(e,r,t){t.preventDefault();var n=O(r.root,e,[0,-1]);r.focusElement(n,e),y(n,r.root,[g,m,h,v])},ArrowRight:function(e,r,t){t.preventDefault();var n=O(r.root,e,[0,1]);r.focusElement(n,e),y(n,r.root,[m,g,h,v])},ArrowUp:function(e,r,t){t.preventDefault();var n=O(r.root,e,[-1,0]);r.focusElement(n,e),y(n,r.root,[g,m,h,v])},ArrowDown:function(e,r,t){t.preventDefault();var n=O(r.root,e,[1,0]);r.focusElement(n,e),y(n,r.root,[g,m,v,h])},o:function(e,r,t){if(r.root){var n=r.root.nextElementSibling;n&&n instanceof HTMLElement&&n.matches("div.k-pivotgrid-configurator-button")&&(n.click(),setTimeout((function(){if(r.root.parentNode){var e=r.root.parentNode.querySelector(".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview");e instanceof HTMLElement&&(e.setAttribute("tabindex",String(r.tabIndex)),e.focus())}}),0))}},Enter:d,Space:d,Home:function(e,r,t){var n=A(r.root),o=(E(t)?n[0]:n.find((function(r){return Boolean(r.find((function(r){return r===e})))}))||[])[0];o&&(r.focusElement(o,e),y(o,r.root,[g,m,h,v]),t.preventDefault())},End:function(e,r,t){var n=A(r.root),o=E(t)?n[n.length-1]:n.find((function(r){return Boolean(r.find((function(r){return r===e})))}))||[],a=o&&o[o.length-1]||null;a&&(r.focusElement(a,e),y(a,r.root,[m,g,v,h]),t.preventDefault())}}},b={click:function(e,r){if(e&&e instanceof HTMLElement){var t=r.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;r.focusElement(e,t)}}},x=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.selectors=p,r.mouseEvents=b,r.keyboardEvents=N,r}return n.__extends(r,e),r}(o.Navigation);r.PivotGridNavigation=x},function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t(0),o=t(9),a=[".k-pivotgrid-configurator-content .k-form-field .k-fields-list-wrapper .k-treeview",".k-pivotgrid-configurator-content .k-chip",".k-pivotgrid-configurator-actions button"],i=function(e,r,t,n){t.preventDefault();var o=r.elements,a=o.indexOf(e)+n;a<0&&(a=o.length-1),r.focusElement(o[a%o.length],e)},u=function(e,r,t){t.target instanceof HTMLElement&&(t.target.querySelector(".k-icon.k-i-x-circle, .k-svg-icon.k-svg-i-x-circle")instanceof HTMLElement&&(t.preventDefault(),i(e,r,t,-1)))},c={keydown:{Tab:function(e,r,t){i(e,r,t,t.shiftKey?-1:1)},Escape:function(e,r,t){if(t.target instanceof HTMLElement&&r.root){var n=r.root.previousElementSibling,o=r.root.nextElementSibling,a=Array.from(n instanceof HTMLElement?n.querySelectorAll("[tabindex]"):[]).find((function(e){return e.tabIndex>=0}));a instanceof HTMLElement&&(a.focus(),o instanceof HTMLElement&&o.click())}},Delete:u,Backspace:u}},s={click:function(e,r){if(e&&e instanceof HTMLElement){var t=r.elements.find((function(e){return e.hasAttribute("tabindex")}))||null;r.focusElement(e,t)}}},l=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.selectors=a,r.mouseEvents=s,r.keyboardEvents=c,r}return n.__extends(r,e),r}(o.Navigation);r.ConfiguratorNavigation=l},function(e,r,t){"use strict";t.r(r),t.d(r,"isCompositeFilterDescriptor",(function(){return v})),t.d(r,"toODataString",(function(){return W})),t.d(r,"toDataSourceRequestString",(function(){return we})),t.d(r,"toDataSourceRequest",(function(){return De})),t.d(r,"translateDataSourceResultGroups",(function(){return Ke})),t.d(r,"translateAggregateResults",(function(){return We})),t.d(r,"orderBy",(function(){return yr})),t.d(r,"process",(function(){return Er})),t.d(r,"distinct",(function(){return Ar})),t.d(r,"getter",(function(){return Z})),t.d(r,"filterBy",(function(){return mr})),t.d(r,"compileFilter",(function(){return dr})),t.d(r,"groupBy",(function(){return hr})),t.d(r,"composeSortDescriptors",(function(){return Ze})),t.d(r,"normalizeFilters",(function(){return R})),t.d(r,"normalizeGroups",(function(){return gr})),t.d(r,"aggregateBy",(function(){return ur})),t.d(r,"FilterOperator",(function(){return X}));var n,o,a,i,u,c=function(e){return null!=e},s=function(e){return null==e},l=function(e){return Array.isArray(e)},f=function(e){return"function"==typeof e},p=function(e){return"string"==typeof e},d=function(e){return!function(e){return s(e)||0===e.trim().length}(e)},m=function(e){return!isNaN(e-parseFloat(e))},g=function(e){return e&&e.getTime},v=function(e){return c(e.filters)},h=t(0),y=function(e,r,t){return function(n){return e(n)?r(n):t(n)}},_=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return function(r){return e.reduceRight((function(e,r){return r(e)}),r)}},A=function(e){return e},E=function(e){return function(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e()?""+r[0]+t[0]+r[1]:t[0]}},O=function(e){return new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()))},N=function(e){var r=e.field,t=e.value,n=e.ignoreCase,o=e.operator;return{value:"'"+t.replace(/'/g,"''")+"'",field:r,ignoreCase:n,operator:o}},b=function(e){var r=e.field,t=e.value,n=e.ignoreCase,o=e.operator;return{value:""+encodeURIComponent(t),field:r,ignoreCase:n,operator:o}},x=function(e){var r=e.field,t=e.value,o=e.ignoreCase,a=e.operator;return{field:E((function(){return o}))(n||(n=Object(h.__makeTemplateObject)(["tolower(",")"],["tolower(",")"])),r),value:t,ignoreCase:o,operator:a}},I=function(e){var r=e.field,t=e.value,n=e.ignoreCase,o=e.operator;return{value:t,field:r.replace(/\./g,"/"),ignoreCase:n,operator:o}},M=function(e){return p(e.value)},S=function(e){return g(e.value)},P=function(e,r){return function(t){return E((function(){return t.filters.length>1}))(o||(o=Object(h.__makeTemplateObject)(["(",")"],["(",")"])),t.filters.map(e).join(r(t)))}},T=function(e){e.filters&&(e.filters=e.filters.map((function(e){var r,t=Object.assign({},e);return!v(e)&&p(e.operator)&&(t.operator={"!=":"neq","<":"lt","<=":"lte","==":"eq",">":"gt",">=":"gte",equal:"eq",equals:"eq",equalto:"eq",ge:"gte",greater:"gt",greaterthan:"gt",greaterthanequal:"gte",isempty:"isempty",isequalto:"eq",isgreaterthan:"gt",isgreaterthanorequalto:"gte",islessthan:"lt",islessthanorequalto:"lte",isnotempty:"isnotempty",isnotequalto:"neq",isnull:"isnull",le:"lte",less:"lt",lessthan:"lt",lessthanequal:"lte",ne:"neq",notequal:"neq",notequals:"neq",notequalto:"neq",notsubstringof:"doesnotcontain"}[(r=e.operator).toLowerCase()]||r),v(e)&&T(t),t})))},R=function(e){return c(e)&&(e=function(e){return v(e)?Object.assign({},e):{filters:l(e)?e:[e],logic:"and"}}(e),T(e)),e},C=function(e){var r=e.operator;return function(e){var t=e.field,n=e.value;return t+" "+r+" "+n}},w=function(e){return _(e,b,N,x,I)},D=function(e){return w((r=e.operator,function(e){var t=e.field,n=e.value;return r+"("+t+","+n+")"}));var r},j=function(e){return _(C(e),I,(r=e.utcDates,function(e){var t=e.field,n=e.value,o=e.ignoreCase,a=e.operator;return{value:(r?n:O(n)).toISOString(),field:t,ignoreCase:o,operator:a}}));var r},V=function(e){return y(S,j(e),function(e){return _(C(e),I)}(e))},k=function(e){return y(M,function(e){return w(C(e))}(e),V(e))},F=function(e){return e+" eq -1"},q=function(e){return _(e,I)},L=function(e){return" "+e.logic+" "},U=function(e){return function(r){return function(e,r){return{contains:D(Object(h.__assign)(Object(h.__assign)({},r),{operator:"contains"})),doesnotcontain:_(F,D(Object(h.__assign)(Object(h.__assign)({},r),{operator:"indexof"}))),endswith:D(Object(h.__assign)(Object(h.__assign)({},r),{operator:"endswith"})),eq:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"eq"})),gt:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"gt"})),gte:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"ge"})),isempty:q((function(e){return e.field+" eq ''"})),isnotempty:q((function(e){return e.field+" ne ''"})),isnotnull:q((function(e){return e.field+" ne null"})),isnull:q((function(e){return e.field+" eq null"})),lt:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"lt"})),lte:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"le"})),neq:k(Object(h.__assign)(Object(h.__assign)({},r),{operator:"ne"})),startswith:D(Object(h.__assign)(Object(h.__assign)({},r),{operator:"startswith"}))}[e]}(r.operator,e)(r)}},H=function(e){return P((function(r){return y(v,H(e),U(e))(r)}),L)},G=function(e,r){return void 0===r&&(r={}),e.filters&&e.filters.length?"$filter="+H(r)(R(e)):""},B=(a="",function(){return a}),K=function(e,r){return y(c,(t=e[0],function(e){return t+e}),B)(r);var t},W=function(e,r){return void 0===r&&(r={}),Object.keys(e).map(function(e,r){return function(t){return{filter:G(r.filter||{},e),skip:K(i||(i=Object(h.__makeTemplateObject)(["$skip=",""],["$skip=",""])),r.skip),sort:(n=r.sort||[],o=n.filter((function(e){return c(e.dir)})).map((function(e){var r=e.field.replace(/\./g,"/");return"desc"===e.dir?r+" desc":r})).join(","),o?"$orderby="+o:o),take:K(u||(u=Object(h.__makeTemplateObject)(["$top=",""],["$top=",""])),r.take)}[t];var n,o}}(r,e)).filter(d).join("&")},z={},Y=/\[(?:(\d+)|['"](.*?)['"])\]|((?:(?!\[.*?\]|\.).)+)/g;z[void 0]=function(e){return e};var Q,X,Z=function(e,r){var t=e+r;if(z[t])return z[t];var n=[];return e.replace(Y,(function(e,r,t,o){n.push(c(r)?r:t||o)})),z[t]=function(e){for(var t=e,o=0;o<n.length;o++)if(t=t[n[o]],!c(t)&&r)return t;return t},z[t]},$=function(e){return function(r){return[e,r]}},J=function(){return null},ee=function(e){return function(r){return c(e(r))}},re=function(e){return function(r){return function(e){return c(e)&&l(e)&&e.length>0}(e(r))}},te=function(e,r){return y(e,r,J)},ne=function(e,r){return function(t){return e(t).map(r).join("~")}},oe=_.apply(void 0,[['"',""],[":","-"]].map((function(e){var r=e[0],t=e[1];return function(e){return e.replace(new RegExp(r,"g"),t)}}))),ae=(Q=".",function(e){return e.slice(0,e.indexOf(Q))}),ie=function(e){var r=e.field,t=e.dir;return r+"-"+(void 0===t?"asc":t)},ue=Z("take"),ce=Z("aggregates"),se=Z("skip"),le=Z("group"),fe=Z("sort",!0),pe=ne(fe,ie),de=ne(le,ie),me=ne(ce,(function(e){return e.field+"-"+e.aggregate})),ge=_((function(e){return"datetime'"+e+"'"}),ae,oe,JSON.stringify,O),ve=_($("page"),(function(e){var r=e.skip,t=e.take;return Math.floor((r||0)/t)+1})),he=_($("pageSize"),ue),ye=_($("group"),de),_e=_($("sort"),pe),Ae=_($("aggregate"),me),Ee=te(ee(se),ve),Oe=te(ee(ue),he),Ne=te(re(le),ye),be=te(ee(ce),Ae),xe=_(te(re(fe),_e),(function(e){return Object.assign({},e,{sort:(fe(e)||[]).filter((function(e){var r=e.dir;return d(r)}))})})),Ie=function(e){var r=e.field;return d(r)},Me=function(e){return e.field+"~"+e.operator+"~"+e.value},Se=y(S,_(Me,(function(e){var r=e.field,t=e.value,n=e.ignoreCase,o=e.operator;return{value:ge(t),field:r,ignoreCase:n,operator:o}})),Me),Pe=function(e){return"~"+e.logic+"~"},Te=function(e){return P((function(r){return y(v,Te(e),function(e){return te(Ie,y(M,_(Me,N,e?b:A),Se))}(e))(r)}),Pe)},Re=function(e,r){var t=e.filter;if(t&&t.filters){var n=Te(r)(t);if(n.length)return["filter",n]}return null},Ce=function(e,r){return void 0===r&&(r=!0),function(t){return{aggregates:be(e),filter:Re(e,r),group:Ne(e),skip:Ee(e),sort:xe(e),take:Oe(e)}[t]}},we=function(e){return(r=Object.keys(e).map(Ce(e)).filter(c),r.reduce((function(e,r){var t=r[0],n=r[1];return Object(h.__spreadArrays)(e,[t+"="+n])}),[])).join("&");var r},De=function(e){return Object.keys(e).map(Ce(e,!1)).filter(c).reduce((function(e,r){var t,n=r[0],o=r[1];return Object(h.__assign)(Object(h.__assign)({},e),((t={})[n]=o,t))}),{})},je=function(e,r,t){return r[e]=t,r},Ve=function(e){return function(r){var t,n=r[e];return c(n)?n:r[(t=e,t.replace(/(^[A-Z])/g,(function(e,r){return r.toLowerCase()})))]}},ke=Ve("Member"),Fe=Ve("AggregateMethodName"),qe=Ve("Value"),Le=function(e){return function(r){return Object.keys(r).reduce(e.bind(null,r),{})}},Ue=Le((function(e,r,t){return je(t.toLowerCase(),r,e[t])})),He=Le((function(e,r,t){return je(t,r,Ue(e[t]))})),Ge=function(e,r){return c(e)?e:r},Be=_((function(e){var r=e.field,t=e.hasSubgroups,n=e.value,o=e.aggregates,a=e.items;return{aggregates:He(o),field:r,items:t?a.map(Be):a,value:n}}),(function(e){return{aggregates:e.Aggregates||e.aggregates,field:e.Member||e.member||e.field,hasSubgroups:e.HasSubgroups||e.hasSubgroups||!1,items:e.Items||e.items,value:Ge(e.Key,Ge(e.key,e.value))}})),Ke=function(e){return e.map(Be)},We=function(e){return(e||[]).reduce((function(e,r){return je(ke(r),e,je(Fe(r).toLowerCase(),e[ke(r)]||{},qe(r)))}),{})},ze=function(e,r){return s(e)?e===r?0:-1:s(r)?1:e.localeCompare?e.localeCompare(r):e>r?1:e<r?-1:0},Ye=function(e,r){return ze(r,e)},Qe=function(e){if("function"==typeof e.compare)return e.compare;var r=Z(e.field,!0);return function(t,n){return("asc"===e.dir?ze:Ye)(r(t),r(n))}},Xe=function(e,r){return 0},Ze=function(e){return e.filter((function(e){return c(e.dir)||c(e.compare)})).map((function(e){return Qe(e)})).reduce((function(e,r){return function(t,n){return e(t,n)||r(t,n)}}),Xe)},$e=function(e){var r=Z(e,!0),t=0;return function(n,o){n[e]=n[e]||{};var a=r(o),i=function(e){return(e=c(e)&&e.getTime?e.getTime():e)+""}(a),u=n[e][i]||{__position:t++,aggregates:{},items:[],value:a};return u.items.push(o),n[e][i]=u,n}},Je=function(e){var r=e.map((function(e){var r=Z(e.field,!0),t=(e.aggregate||"").toLowerCase(),n=Z(t,!0);return function(o,a){var i=o[e.field]||{},u=n(i)||{average:function(){var e=0,r=0;return{calc:function(t){m(t)?(e+=t,r++):e=t},result:function(){return m(e)?e/r:e}}},count:function(){var e=0;return{calc:function(){return e++},result:function(){return e}}},max:function(){var e=Number.NEGATIVE_INFINITY;return{calc:function(r){(e=m(e)||g(e)?e:r)<r&&(m(r)||g(r))&&(e=r)},result:function(){return e}}},min:function(){var e=Number.POSITIVE_INFINITY;return{calc:function(r){(e=m(e)||g(e)?e:r)>r&&(m(r)||g(r))&&(e=r)},result:function(){return e}}},sum:function(){var e=0;return{calc:function(r){r=c(r)?r:0,e+=r},result:function(){return e}}}}[t]();return u.calc(r(a)),i[e.aggregate]=u,o[e.field]=i,o}}));return function(e,t){return r.reduce((function(e,r){return r(e,t)}),e)}},er=function(e,r){return e.push(r),e},rr=function(e){return function(r){return function(t,n,o){return r(t,e(n,o))}}},tr=function(e){return function(r){return function(t,n){return e(n)?r(t,n):t}}},nr=function(e){return c(e.__value)},or=function(e){return nr(e)?e:{__value:e,reduced:!0}},ar=function(e,r,t){for(var n=r,o=0,a=t.length;o<a;o++)if(n=e(n,t[o],o),nr(n)){n=n.__value;break}return n},ir=rr((function(e){return e})),ur=function(e,r,t){void 0===r&&(r=[]),void 0===t&&(t=ir);var n={};return r.length?function(e){return void 0===e&&(e={}),Object.keys(e).forEach((function(r){var t=e[r];Object.keys(t).forEach((function(e){t[e]=t[e].result()}))})),e}(ar(t(Je(r)),n,e)):n},cr={or:{concat:function(e,r){return function(t){return e(t)||r(t)}},identity:function(){return!1}},and:{concat:function(e,r){return function(t){return e(t)&&r(t)}},identity:function(){return!0}}},sr={contains:function(e,r){return(e||"").indexOf(r)>=0},doesnotcontain:function(e,r){return-1===(e||"").indexOf(r)},doesnotendwith:function(e,r){return(e||"").indexOf(r,(e||"").length-(r||"").length)<0},doesnotstartwith:function(e,r){return-1===(e||"").lastIndexOf(r,0)},endswith:function(e,r){return(e||"").indexOf(r,(e||"").length-(r||"").length)>=0},eq:function(e,r){return e===r},gt:function(e,r){return e>r},gte:function(e,r){return e>=r},isempty:function(e){return""===e},isnotempty:function(e){return""!==e},isnotnull:function(e){return c(e)},isnull:function(e){return s(e)},lt:function(e,r){return e<r},lte:function(e,r){return e<=r},neq:function(e,r){return e!=r},startswith:function(e,r){return 0===(e||"").lastIndexOf(r,0)}},lr=/^\/Date\((.*?)\)\/$/,fr=function(e){var r=e.field,t=e.ignoreCase,n=e.value,o=e.operator;r=c(r)?r:function(e){return e},t=!c(t)||t;var a=function(e,r,t){if(!c(r))return e;var n=e;if(p(r)){var o=lr.exec(r);o?r=new Date(+o[1]):n=function(r){var n=e(r);return"string"==typeof n&&t?n.toLowerCase():m(n)?n+"":n}}return g(r)?function(e){var r=n(e);return g(r)?r.getTime():r}:n}(f(r)?r:Z(r,!0),n,t);n=function(e,r){if(null!=e&&p(e)){var t=lr.exec(e);if(t)return new Date(+t[1]).getTime();if(r)return e.toLowerCase()}else if(null!=e&&g(e))return e.getTime();return e}(n,t);var i=f(o)?o:sr[o];return function(e){return i(a(e),n,t)}},pr=function(e){var r=cr[e.logic];return e.filters.filter(c).map((function(e){return v(e)?pr(e):fr(e)})).reduce(r.concat,r.identity)},dr=function(e){return e&&0!==e.filters.length?pr(e):function(){return!0}},mr=function(e,r){return!c(r)||v(r)&&0===r.filters.length?e:e.filter(dr(R(r)))},gr=function(e){return(e=l(e)?e:[e]).map((function(e){return Object.assign({dir:"asc"},e)}))},vr=rr((function(e){return e})),hr=function(e,r,t,n){if(void 0===r&&(r=[]),void 0===t&&(t=vr),void 0===n&&(n=e),!(r=gr(r)).length)return e;var o=r[0],a=ar(t($e(o.field)),{},e),i=[];return Object.keys(a).forEach((function(e){Object.keys(a[e]).forEach((function(t){var u=a[e][t],s={},l=n;c(o.aggregates)&&(l=mr(n,{field:o.field,ignoreCase:!1,operator:"eq",value:u.value}),s=ur(l,o.aggregates)),i[u.__position]={aggregates:s,field:e,items:r.length>1?hr(u.items,r.slice(1),vr,l):u.items,value:u.value}}))})),i},yr=function(e,r){if(r.some((function(e){return c(e.dir)||c(e.compare)}))){e=e.slice(0);var t=Ze(r);e.sort(t)}return e},_r=function(e,r){return e===r},Ar=function(e,r){return void 0===r&&(r=_r),function(e,r){return e.filter((function(e,t,n){return n.findIndex(r.bind(null,e))===t}))}(e,function(e){if(p(e)){var r=Z(e);e=function(e,t){return r(e)===r(t)}}return e}(r))},Er=function(e,r){var t=r.skip,n=r.take,o=r.filter,a=r.sort,i=r.group,u=Object(h.__spreadArrays)(gr(i||[]),a||[]);u.length&&(e=yr(e,u));var s,l=c(o)&&tr.length,f=c(i)&&i.length;if(!l&&!f)return{data:n?e.slice(t,t+n):e,total:e.length};var p,d,m=[];if(l?(s=function(e,r){for(var t=0,n=0,o=e.length;n<o;n++)r(e[n])&&t++;return t}(e,p=dr(R(o))),m.push(tr(p))):s=e.length,c(t)&&c(n)&&(m.push((d=t,function(e){return function(r,t){return d--<=0?e(r,t):r}})),m.push(function(e){return function(r){return function(t,n){return e-- >0?r(t,n):or(t)}}}(n))),m.length){var g=_.apply(void 0,m);return{data:f?hr(e,i,g,function(e,r){return r?e.filter(r):e}(e,p)):ar(g(er),[],e),total:s}}return{data:f?hr(e,i):e,total:s}};!function(e){e.Contains="contains",e.DoesNotContain="doesnotcontain",e.DoesNotEndWith="doesnotendwith",e.DoesNotStartWith="doesnotstartwith",e.EndsWith="endswith",e.EqualTo="eq",e.GreaterThan="gt",e.GreaterThanOrEqual="gte",e.IsEmpty="isempty",e.IsNotEmpty="isnotempty",e.IsNotNull="isnotnull",e.IsNull="isnull",e.LessThan="lt",e.LessThanOrEqual="lte",e.NotEqualTo="neq",e.StartsWith="startswith"}(X||(X={}))}])}));