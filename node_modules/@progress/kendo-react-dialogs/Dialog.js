/**
 * @license
 *-------------------------------------------------------------------------------------------
 * Copyright Â© 2025 Progress Software Corporation. All rights reserved.
 * Licensed under commercial license. See LICENSE.md in the package root for more information
 *-------------------------------------------------------------------------------------------
 */
"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const A=require("react"),F=require("react-dom"),o=require("prop-types"),_=require("./DialogTitleBar.js"),u=require("./DialogActionsBar.js"),s=require("@progress/kendo-react-common"),N=require("./utils.js"),l=require("./constants.js");function m(r){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const e in r)if(e!=="default"){const c=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,c.get?c:{enumerable:!0,get:()=>r[e]})}}return t.default=r,Object.freeze(t)}const n=m(A),k=m(F),i=class i extends n.Component{constructor(t){super(t),this.context=0,this.titleId=this.generateTitleId(),this.contentId=this.generateContentId(),this.activeElement=null,this.onCloseDialog=e=>{e.preventDefault(),s.dispatchEvent(this.props.onClose,e,this,void 0)},this.onKeyDown=e=>{e.keyCode===s.Keys.esc&&this.props.onClose&&(e.preventDefault(),this.onCloseDialog(e)),s.keepFocusInContainer(e,this.element)},this.getCurrentZIndex=()=>!this.state||this.context===void 0?this.context?this.context:l.DEFAULT_DIALOGS_ZINDEX:this.state.zIndex>(this.context?this.context+l.ZINDEX_DIALOGS_STEP:0)?this.state.zIndex:this.context+l.ZINDEX_DIALOGS_STEP,this.getDocument=()=>{const e=s.canUseDOM?document:null;return this.props.appendTo?this.props.appendTo.ownerDocument:e},s.canUseDOM&&(this.activeElement=s.getActiveElement(document))}get _id(){return this.props.id+"-accessibility-id"}componentDidMount(){if(this.element){if(this.props.autoFocus&&!this.props.autoFocusedElement)this.element.focus();else if(this.props.autoFocus&&this.props.autoFocusedElement)this.element.focus();else if(!this.props.autoFocus&&this.props.autoFocusedElement){const t=this.element.querySelector(this.props.autoFocusedElement);t&&t.focus()}else{const t=[...s.FOCUSABLE_ELEMENTS].map(e=>e+":not(.k-dialog-titlebar *)");s.focusFirstFocusableChild(this.element,t)}this.setState({zIndex:N.getMaxZIndex(this.getCurrentZIndex(),this.getDocument(),this._id)})}}componentWillUnmount(){setTimeout(()=>{var t;!this.element&&this.activeElement&&s.canUseDOM&&(document.contains(this.activeElement)?this.activeElement.focus():this.activeElement.id&&((t=document.getElementById(this.activeElement.id))==null||t.focus()))})}render(){const t=this.props.id!==void 0?this.props.id:this.titleId,{title:e,width:c,height:f,children:D,minWidth:I,dir:E,style:b,contentStyle:C,modal:x=!0}=this.props,d=n.Children.toArray(D),T=this.getContent(d),v=this.getActionBar(d),O=e?{"aria-labelledby":t}:null,S=this.props.closeIcon!==void 0?this.props.closeIcon:!0,p=this.getCurrentZIndex(),h=n.createElement(s.ZIndexContext.Provider,{value:p},n.createElement("div",{[l.DATA_DIALOGS_ID]:this._id,className:"k-dialog-wrapper"+(this.props.className?" "+this.props.className:""),onKeyDown:this.onKeyDown,tabIndex:0,dir:E,style:{zIndex:p,...b},ref:w=>{this.element=w}},x&&n.createElement("div",{className:"k-overlay",style:this.props.overlayStyle}),n.createElement("div",{...O,className:s.classNames("k-window k-dialog",{[`k-window-${this.props.themeColor}`]:this.props.themeColor}),role:"dialog","aria-labelledby":t,"aria-modal":!0,"aria-describedby":this.contentId,style:{width:c,height:f,minWidth:I}},this.props.title&&n.createElement(_.DialogTitleBar,{closeIcon:S,onCloseButtonClick:this.onCloseDialog,id:t},e),n.createElement("div",{className:"k-window-content k-dialog-content",style:C,id:this.contentId},T),v)));return s.canUseDOM?this.props.appendTo!==null?k.createPortal(h,this.props.appendTo||document.body):h:null}getActionBar(t){return t.filter(e=>e&&e.type===u.DialogActionsBar)}getContent(t){return t.filter(e=>e&&e.type!==u.DialogActionsBar)}generateTitleId(){return"dialog-title-"+this._id}generateContentId(){return"dialog-content-"+this._id}};i.displayName="Dialog",i.propTypes={title:o.any,id:o.string,dir:o.string,style:o.object,closeIcon:o.bool,width:o.oneOfType([o.number,o.string]),height:o.oneOfType([o.number,o.string]),minWidth:o.oneOfType([o.number,o.string]),autoFocus:o.bool},i.defaultProps={autoFocus:!1},i.contextType=s.ZIndexContext;let a=i;const g=s.createPropsContext(),y=s.withIdHOC(s.withPropsContext(g,a));y.displayName="KendoReactDialog";exports.Dialog=y;exports.DialogPropsContext=g;
